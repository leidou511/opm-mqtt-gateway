[2026-02-06 15:10:58] [INFO] [ERROR] [serial] 重试1/3：串口COM1不存在
[2026-02-06 15:10:58] [INFO] [ERROR] [serial] 重试2/3：串口COM1不存在
[2026-02-06 15:10:58] [INFO] [ERROR] [serial] 重试3/3：串口COM1不存在
[2026-02-06 15:10:58] [INFO] [FATAL] 初始化串口失败：串口打开失败: 重试3次后失败：串口COM1不存在
[2026-02-06 15:12:09] [INFO] [ERROR] [serial] 重试1/3：串口COM1不存在
[2026-02-06 15:12:09] [INFO] [ERROR] [serial] 重试2/3：串口COM1不存在
[2026-02-06 15:12:09] [INFO] [ERROR] [serial] 重试3/3：串口COM1不存在
[2026-02-06 15:12:09] [INFO] [FATAL] 初始化串口失败：串口打开失败: 重试3次后失败：串口COM1不存在
[2026-02-06 15:17:45] [INFO] [ERROR] [serial] 重试1/3：打开失败：Invalid serial port
[2026-02-06 15:17:45] [INFO] [ERROR] [serial] 重试2/3：打开失败：Invalid serial port
[2026-02-06 15:17:45] [INFO] [ERROR] [serial] 重试3/3：打开失败：Invalid serial port
[2026-02-06 15:17:45] [INFO] [FATAL] 初始化串口失败：串口打开失败: 重试3次后失败：<nil>
[2026-02-06 15:25:12] [INFO] 串口配置: 波特率=9600, 数据位=8, 停止位=1, 校验位=1
[2026-02-06 15:25:12] [INFO] [ERROR] [serial] 重试1/3：打开失败：Invalid serial port
[2026-02-06 15:25:12] [INFO] [ERROR] [serial] 重试2/3：打开失败：Invalid serial port
[2026-02-06 15:25:12] [INFO] [ERROR] [serial] 重试3/3：打开失败：Invalid serial port
[2026-02-06 15:25:12] [INFO] [FATAL] 初始化串口失败：串口打开失败: 重试3次后失败：<nil>
[2026-02-06 15:26:56] [INFO] 串口配置: 波特率=9600, 数据位=8, 停止位=1, 校验位=1
[2026-02-06 15:26:56] [INFO] [ERROR] [serial] 重试1/3：打开失败：Invalid serial port
[2026-02-06 15:26:56] [INFO] [ERROR] [serial] 重试2/3：打开失败：Invalid serial port
[2026-02-06 15:26:56] [INFO] [ERROR] [serial] 重试3/3：打开失败：Invalid serial port
[2026-02-06 15:26:56] [INFO] [FATAL] 初始化串口失败：串口打开失败: 重试3次后失败：<nil>
[2026-02-06 15:29:06] [INFO] 串口配置: 波特率=9600, 数据位=8, 停止位=1, 校验位=1
[2026-02-06 15:29:06] [INFO] [ERROR] [serial] 重试1/3：打开失败：Invalid serial port
[2026-02-06 15:29:06] [INFO] [ERROR] [serial] 重试2/3：打开失败：Invalid serial port
[2026-02-06 15:29:06] [INFO] [ERROR] [serial] 重试3/3：打开失败：Invalid serial port
[2026-02-06 15:29:06] [INFO] [FATAL] 初始化串口失败：串口打开失败: 重试3次后失败：<nil>
[2026-02-06 15:30:37] [INFO] 串口配置: 波特率=9600, 数据位=8, 停止位=0, 校验位=1
[2026-02-06 15:30:37] [INFO] [INFO] [serial] 串口初始化成功，设备：COM1，波特率：9600
[2026-02-06 15:30:37] [INFO] [INFO] [main] 串口阅读器已启动，设备：SN12345678
[2026-02-06 15:30:37] [INFO] [INFO] [mqtt] 连接成功，服务端：tcp://124.70.81.103:1883，客户端ID：opm1560b-mqtt-001
[2026-02-06 15:30:37] [INFO] [INFO] [main] 数据处理协程已启动，全链路就绪
[2026-02-06 15:30:37] [INFO] [INFO] [mqtt] 已上报设备在线状态，主题：opm1560b/SN12345678/state，消息：{"device_id":"SN12345678","device_model":"OPM-1560B","msg_type":"state","content":"online","report_time":"2026-02-06T07:30:37Z","version":"v1.0"}
[2026-02-06 15:30:37] [INFO] [INFO] [main] 接收到退出信号，开始优雅关闭...
[2026-02-06 15:30:37] [INFO] [INFO] [serial] 串口已关闭：COM1
[2026-02-06 15:30:37] [INFO] [ERROR] [serial] 读数据失败：端口句柄未初始化，标记断开
[2026-02-06 15:32:49] [INFO] 2026/02/06 15:32:49 reader.go:54: 串口配置: 波特率=9600, 数据位=8, 停止位=0, 校验位=1
[2026-02-06 15:32:49] [INFO] 2026/02/06 15:32:49 reader.go:78: [INFO] [serial] 串口初始化成功，设备：COM1，波特率：9600
[2026-02-06 15:32:49] [INFO] 2026/02/06 15:32:50 main.go:66: [INFO] [main] 串口阅读器已启动，设备：SN12345678
[2026-02-06 15:32:49] [INFO] 2026/02/06 15:32:50 client.go:55: [INFO] [mqtt] 连接成功，服务端：tcp://124.70.81.103:1883，客户端ID：opm1560b-mqtt-001
[2026-02-06 15:32:49] [INFO] 2026/02/06 15:32:50 main.go:102: [INFO] [main] 数据处理协程已启动，全链路就绪
[2026-02-06 15:32:49] [INFO] 2026/02/06 15:32:50 client.go:164: [INFO] [mqtt] 已上报设备在线状态，主题：opm1560b/SN12345678/state，消息：{"device_id":"SN12345678","device_model":"OPM-1560B","msg_type":"state","content":"online","report_time":"2026-02-06T07:32:50Z","version":"v1.0"}
[2026-02-06 15:32:49] [INFO] 2026/02/06 15:33:12 main.go:110: [INFO] [main] 接收到退出信号，开始优雅关闭...
[2026-02-06 15:32:49] [INFO] 2026/02/06 15:33:17 reader.go:288: [INFO] [serial] 串口已关闭：COM1
[2026-02-06 15:32:49] [INFO] 2026/02/06 15:33:17 reader.go:106: [ERROR] [serial] 读数据失败：端口句柄未初始化，标记断开
2026/02/06 15:34:09 reader.go:54: 串口配置: 波特率=9600, 数据位=8, 停止位=0, 校验位=1
2026/02/06 15:34:09 reader.go:78: [INFO] [serial] 串口初始化成功，设备：COM1，波特率：9600
2026/02/06 15:34:09 main.go:62: [INFO] [main] 串口阅读器已启动，设备：SN12345678
2026/02/06 15:34:09 main.go:98: [INFO] [main] 数据处理协程已启动，全链路就绪
2026/02/06 15:34:09 client.go:55: [INFO] [mqtt] 连接成功，服务端：tcp://124.70.81.103:1883，客户端ID：opm1560b-mqtt-001
2026/02/06 15:34:09 client.go:164: [INFO] [mqtt] 已上报设备在线状态，主题：opm1560b/SN12345678/state，消息：{"device_id":"SN12345678","device_model":"OPM-1560B","msg_type":"state","content":"online","report_time":"2026-02-06T07:34:09Z","version":"v1.0"}
2026/02/06 15:34:24 main.go:106: [INFO] [main] 接收到退出信号，开始优雅关闭...
2026/02/06 15:34:30 reader.go:288: [INFO] [serial] 串口已关闭：COM1
2026/02/06 15:34:30 reader.go:106: [ERROR] [serial] 读数据失败：端口句柄未初始化，标记断开
